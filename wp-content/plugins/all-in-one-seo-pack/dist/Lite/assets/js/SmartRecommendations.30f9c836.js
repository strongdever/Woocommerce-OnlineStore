import{a as U}from"./WpTable.4d19dc46.js";import"./default-i18n.ab92175e.js";import"./constants.7044c894.js";import{_ as B,c as m,d as t,w as i,h as v,a as h,r as n,o as c,f as s,e as d,t as r,g as H,F as P,i as V}from"./_plugin-vue_export-helper.2d9794a3.js";import"./index.02a5ed9a.js";import"./SaveChanges.bc66cd69.js";import{a as k,m as y}from"./vuex.esm-bundler.8589b2dd.js";import{B as F}from"./Checkbox.b4e8b6fc.js";import{C as O,c as Y}from"./index.fd0fcee8.js";import{C as D}from"./Index.1fd8fc42.js";import{C as G}from"./ProBadge.bcf74c08.js";import{C as q}from"./Tooltip.ae0bcccb.js";import{G as j,a as Q}from"./Row.5e452de4.js";import{S as J}from"./Caret.42a820e0.js";import{W as K,a as X,b as Z}from"./Header.34c3e402.js";import{W as ee,a as se}from"./Steps.0c9c96b9.js";import"./helpers.de7566d0.js";import"./RequiresUpdate.52f5acf2.js";import"./postContent.bb42e0a8.js";import"./cleanForSlug.62b08993.js";import"./isArrayLikeObject.c492f682.js";import"./html.14f2a8b9.js";import"./_commonjsHelpers.f84db168.js";import"./Checkmark.c5326878.js";import"./Logo.81e1a7f3.js";const te={components:{BaseCheckbox:F,CoreAlert:O,CoreModal:D,CoreProBadge:G,CoreTooltip:q,GridColumn:j,GridRow:Q,SvgCircleQuestionMark:Y,SvgClose:J,WizardBody:K,WizardCloseAndExit:ee,WizardContainer:X,WizardHeader:Z,WizardSteps:se},mixins:[U],data(){return{loading:!1,stage:"smart-recommendations",showModal:!1,loadingModal:!1,strings:{setupSiteAnalyzer:this.$t.__("Setup Site Analyzer + Smart Recommendations",this.$td),description:this.$t.sprintf(this.$t.__("Get helpful suggestions from %1$s on how to optimize your website content, so you can rank higher in search results.",this.$td),"AIOSEO"),yourEmailAddress:this.$t.__("Your Email Address",this.$td),yourEmailIsNeeded:this.$t.__("Your email is needed so you can receive SEO recommendations. This email will also be used to connect your site with our SEO API.",this.$td),helpMakeAioseoBetter:this.$t.sprintf(this.$t.__("Help make %1$s better for everyone",this.$td),"AIOSEO"),yesCountMeIn:this.$t.__("Yes, count me in",this.$td),wouldYouLikeToPurchase:this.$t.__("Would you like to purchase and install the following features now?",this.$td),theseFeaturesAreAvailable:this.$t.__("An upgrade is required to unlock the following features.",this.$td),youWontHaveAccess:this.$t.__("You won't have access to this functionality until the extensions have been purchased and installed.",this.$td),illDoItLater:this.$t.__("I'll do it later",this.$td),purchaseAndInstallNow:this.$t.__("Purchase and Install Now",this.$td),bonusText:this.$t.sprintf(this.$t.__("%1$sBonus:%2$s You can upgrade your plan today and %3$ssave %4$s off%5$s (discount auto-applied).",this.$td),"<strong>","</strong>","<strong>",this.$constants.DISCOUNT_PERCENTAGE,"</strong>"),usageTrackingTooltip:this.$t.sprintf(this.$t.__("Complete documentation on usage tracking is available %1$shere%2$s.",this.$td),this.$t.sprintf('<strong><a href="%1$s" target="_blank">',this.$links.getDocUrl("usageTracking")),"</a></strong>")}}},computed:{...k(["internalOptions"]),...k("wizard",{smartRecommendations:"smartRecommendations",presetFeatures:"features"}),selectedFeaturesNeedsUpsell(){let o=!1;return this.presetFeatures.forEach(a=>{this.needsUpsell(this.features.find(g=>g.value===a))&&(o=!0)}),o}},methods:{...y(["saveConnectToken"]),...y("wizard",["saveWizard"]),purchase(){this.modalLoading=!0;const o=`&license-redirect=${btoa(this.$aioseo.urls.aio.wizard)}#/license-key`;window.open("https://aioseo.com/pricing/?features[]="+this.getSelectedUpsellFeatures.map(a=>a.value).join("&features[]=")+o),this.$router.push(this.getNextLink)},saveAndContinue(){this.loading=!0,this.saveWizard("smartRecommendations").then(()=>{if(!this.selectedFeaturesNeedsUpsell)return this.$router.push(this.getNextLink);this.showModal=!0,this.loading=!1})},skipStep(){this.saveWizard(),this.$router.push(this.getNextLink)},preventUncheck(o){o.preventDefault(),o.stopPropagation()}},mounted(){this.smartRecommendations.accountInfo=this.$aioseo.user.data.data.user_email}},oe={class:"aioseo-wizard-smart-recommendations"},ne={class:"header"},ie={class:"description"},ae={class:"aioseo-settings-row no-border small-padding"},re={class:"settings-name"},le={class:"name small-margin"},de={class:"aioseo-description"},ce={key:0,class:"aioseo-settings-row no-border no-margin small-padding"},ue={class:"settings-name"},me={class:"name small-margin"},_e=["innerHTML"],pe={class:"go-back"},he=s("div",{class:"spacer"},null,-1),ge={class:"aioseo-modal-body"},fe=["innerHTML"],ve={class:"settings-name"},ke={class:"name small-margin"},ye={class:"aioseo-description-text"},we=["innerHTML"],be={class:"actions"},Ce=s("div",{class:"spacer"},null,-1),$e={class:"go-back"};function Ae(o,a,g,ze,e,u){const w=n("wizard-header"),b=n("wizard-steps"),C=n("base-input"),$=n("svg-circle-question-mark"),A=n("core-tooltip"),z=n("base-toggle"),_=n("router-link"),p=n("base-button"),T=n("wizard-body"),M=n("wizard-close-and-exit"),S=n("wizard-container"),L=n("svg-close"),I=n("core-pro-badge"),f=n("grid-column"),N=n("base-checkbox"),x=n("grid-row"),E=n("core-alert"),R=n("core-modal");return c(),m("div",oe,[t(w),t(S,null,{default:i(()=>[t(T,null,{footer:i(()=>[s("div",pe,[t(_,{to:o.getPrevLink,class:"no-underline"},{default:i(()=>[d("←")]),_:1},8,["to"]),d("   "),t(_,{to:o.getPrevLink},{default:i(()=>[d(r(e.strings.goBack),1)]),_:1},8,["to"])]),he,t(p,{type:"gray",onClick:u.skipStep},{default:i(()=>[d(r(e.strings.skipThisStep),1)]),_:1},8,["onClick"]),t(p,{type:"blue",loading:e.loading,onClick:u.saveAndContinue},{default:i(()=>[d(r(e.strings.saveAndContinue)+" →",1)]),_:1},8,["loading","onClick"])]),default:i(()=>[t(b),s("div",ne,r(e.strings.setupSiteAnalyzer),1),s("div",ie,r(e.strings.description),1),s("div",ae,[s("div",re,[s("div",le,r(e.strings.yourEmailAddress),1)]),t(C,{size:"medium",modelValue:o.smartRecommendations.accountInfo,"onUpdate:modelValue":a[0]||(a[0]=l=>o.smartRecommendations.accountInfo=l)},null,8,["modelValue"]),s("div",de,r(e.strings.yourEmailIsNeeded),1)]),o.$isPro?h("",!0):(c(),m("div",ce,[s("div",ue,[s("div",me,[d(r(e.strings.helpMakeAioseoBetter)+" ",1),t(A,null,{tooltip:i(()=>[s("div",{innerHTML:e.strings.usageTrackingTooltip},null,8,_e)]),default:i(()=>[t($)]),_:1})])]),t(z,{modelValue:o.smartRecommendations.usageTracking,"onUpdate:modelValue":a[1]||(a[1]=l=>o.smartRecommendations.usageTracking=l)},{default:i(()=>[d(r(e.strings.yesCountMeIn),1)]),_:1},8,["modelValue"])]))]),_:1}),t(M)]),_:1}),e.showModal?(c(),v(R,{key:0,"no-header":"",onClose:a[4]||(a[4]=l=>e.showModal=!1)},{body:i(()=>[s("div",ge,[s("button",{class:"close",onClick:a[3]||(a[3]=H(l=>e.showModal=!1,["stop"]))},[t(L,{onClick:a[2]||(a[2]=l=>e.showModal=!1)})]),s("h3",null,r(e.strings.wouldYouLikeToPurchase),1),s("div",{class:"available-features",innerHTML:e.strings.theseFeaturesAreAvailable},null,8,fe),(c(!0),m(P,null,V(o.getSelectedUpsellFeatures,(l,W)=>(c(),m("div",{key:W,class:"aioseo-settings-row feature-grid small-padding medium-margin"},[t(x,null,{default:i(()=>[t(f,{xs:"11"},{default:i(()=>[s("div",ve,[s("div",ke,[d(r(l.name)+" ",1),o.needsUpsell(l)?(c(),v(I,{key:0})):h("",!0)]),s("div",ye,r(l.description),1)])]),_:2},1024),t(f,{xs:"1"},{default:i(()=>[t(N,{round:"",class:"no-clicks",type:"green",modelValue:!0,onClick:u.preventUncheck},null,8,["onClick"])]),_:1})]),_:2},1024)]))),128)),s("div",{class:"available-features no-access",innerHTML:e.strings.youWontHaveAccess},null,8,we),s("div",be,[Ce,s("div",$e,[t(_,{to:o.getNextLink},{default:i(()=>[d(r(e.strings.illDoItLater),1)]),_:1},8,["to"])]),t(p,{type:"green",loading:e.loadingModal,onClick:u.purchase},{default:i(()=>[d(r(e.strings.purchaseAndInstallNow),1)]),_:1},8,["loading","onClick"])]),t(E,{type:"yellow",innerHTML:e.strings.bonusText},null,8,["innerHTML"])])]),_:1})):h("",!0)])}const Xe=B(te,[["render",Ae]]);export{Xe as default};
