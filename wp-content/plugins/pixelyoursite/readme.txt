===PixelYourSite - Your smart PIXEL (TAG) Manager===
Contributors: PixelYourSite
Tags: Meta Pixel, Facebook Pixel, Facebook Conversion API, CAPI, Facebook Pixel Events, Facebook Dynamic Product Ads, Facebook Conversion Value, WooCommerce Facebook Pixel, Easy Digital Downloads Facebook Pixel, Google Analytics, Google Analytics Enhanced Ecommerce, GA4, WooCommerce Google Analytics, Easy Digital Downloads Google Analytics, head & footer scripts, Pinterest tag
Requires at least: 3.0.1
Requires PHP: 5.4
Tested up to: 6.2
Stable tag: 9.3.6
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

Meta Pixel (Facebook Pixel) & Conversion API (CAPI), Google Analytics 4 (GA4) or the old Universal, plus ANY other script. WooCommerce and EDD with Facebook Dynamic Product Ads and Google Magnetisation tracking. Track any action with events. Pinterest Tag support via a dedicated paid add-on. Dedicated paid Bing Tag add-on.

== Description ==
**Manage your Meta Pixel (Facebook Pixel), implement Facebook Conversion API, add your Google Analytics 4 (GA4) or an old Universal property with a single plugin. Add ANY other script (Head & Footer feature). The Pinterest Tag can be implemented via [paid add-on](https://www.pixelyoursite.com/pinterest-tag).**

PixelYourSite's Automatic Events will track important actions and send them to all your configured pixels (searches, form submit, comments, downloads). Use these events to understand your visitors' behaviour inside Google Analytics, or to create audiences and conversions for Meta (Facebook), or Google.

You can fire your own events with zero coding.

**WooCommerce** and **Easy Digital Downloads** are fully supported, with Facebook Dynamic Ads pixel setup and Google Analytics Enhanced Ecommerce.

Take a look at this video to see Facebook Conversion API in action:

[youtube https://www.youtube.com/watch?v=k_bL53qDE0E]

IMPORTANT:: Facebook Pixel Conversion API: [Learn how to enable and test Conversion API events](https://www.pixelyoursite.com/facebook-conversion-api-capi)

Learn how to [verify your domain on Facebook](https://www.pixelyoursite.com/verify-domain-facebook)

Learn how to track key actions with [Automated Events](https://www.pixelyoursite.com/global-events)

NEW: Track and store traffic source, landing page, and UTMs for WooCommerce orders: [click to find more](https://www.pixelyoursite.com/woocommerce-first-party-reports)

NEW: Track and store traffic source, landing page and UTMs for Easy Digital Downloads orders: [click to find more](https://www.pixelyoursite.com/easy-digital-downloads-first-party-reports)

TRACK EVERYTHING WITH A SINGLE PLUGIN:

* The Meta Pixel (Facebook Pixel): one click install

* Facebook Conversion API: add a token and we send all events using CAPI

* Google Analytics: one click install

* Google Analytics 4: for details, watch [this video](https://www.youtube.com/watch?v=fwegcsO-yrc)

* ANY script: add any other script with our flexible Head & Footer option

* The Pinterest Tag: via [paid add-on](https://www.pixelyoursite.com/pinterest-tag)

* Google Ads (formerly AdWords) [pro feature](https://www.pixelyoursite.com/google-ads-tag)

* Microsoft (BING) UET tag [paid add-on](https://www.pixelyoursite.com/bing-tag)

* Learn how to track both UA and GA4 properties at the same time (paid feature): [watch video](https://www.youtube.com/watch?v=JUuss5sewxg)

* Learn how to fire multiple Facebook Pixels with CAPI support (paid feature): [watch video](https://www.youtube.com/watch?v=HM98mGZshvc)



FANTASTIC WOOCOMMERCE INTEGRATION:

* Meta Pixel (Facebook Pixel): every e-commerce related event is fired automatically. Conversion value is tracked for each event. All the events are 

* Dynamic Product Ads ready (content_ids and content_type parameters always present).

* Facebook Conversion API: every e-commerce event is sent using CAPI.

* Google Analytics: Enhanced Ecommerce implementation.

* GA4: Monetisation data.

* Head & Footer scripts: you can insert scripts on the WooCommerce “order-received” page.

* Pinterest e-commerce events with paid add-on.

* TikTok e-commerce events with the paid version of the plugin.




EASY DIGITAL DOWNLOADS INTEGRATION:

The EDD integration works just like the WooCommerce integration, with full Dynamic Product Ads Facebook Pixel Support, Google Analytics Enhanced Ecommerce, and Pinterest Tag e-commerce events.



TRACK KEY ACTIONS WITH AUTOMATED EVENTS:

The AUTOMATED EVENTS capture important actions like form submit, comments, downloads, page scroll, and time on page. Use them to measure your users' behaviour inside Google Analytics, or to create custom audiences and conversions on Meta (Facebook), and Google Analytics. 



FIRE YOUR OWN EVENTS:

You can easily configure your own events and send them to all or just some of the networks (Facebook, Google, Pinterest).

You can fire standard or custom events using triggers like:

* URL contains.

* URL equals.

* Delay event: fire after X seconds.



**CONSENT, GDPR, CCPA SUPPORT:**


PixelYourSite is fully integrated with [ConsentMagic.com](https://www.consentmagic.com)

And it works with some of the most popular “cookie consent” plugins.


Additionally we offer filters that developers can use to create their own custom integrations. These filters can control the way each pixel works.



FACEBOOK FOR WOOCOMMERCE INTEGRATION:

You can use Facebook for WooCommerce plugin along with PixelYourSite. This will let you benefit from all our advanced pixel features and still have a Facebook page shop.

When Facebook for WooCommerce is detected, the plugin will offer you the option to use their ID logic for all the WooCommerce specific events. This will ensure product matching between your site and their Product Catalog.

[More details in this dedicated article](https://www.pixelyoursite.com/facebook-for-woocommerce-pixelyoursite)



OTHER USEFUL FEATURES:

* Facebook Manual Advanced Matching.

* Remove Facebook default events.

* Google Analytics cross-domain measurement.

* Google Analytics Enhanced Link Attribution.

* Google Analytics Anonymize IPs.


**EVEN MORE FEATURES WITH THE PRO VERSION:**


[PixelYourSite Pro](https://www.pixelyoursite.com/) is used by thousands of businesses already and will offer you some extraordinary features.


Full PixelYourSite Professional and **CartFlows** integration: [watch video for details](https://www.pixelyoursite.com/cartflows-and-pixelyoursite)


TikTok Tag support with [PixelYourSite Professional](https://www.pixelyoursite.com/tiktok-tag-pixelyoursite).



EVEN MORE AUTOMATED EVENTS:

You can capture clicks on internal or external links, embedded video views, clicks on phone numbers or emails, user signups, logins, clicks on AdSense ads.



EVEN MORE EVENTS’ TRIGGERS:

On top of the free triggers (URL equals and URL contains), the pro version will let you fire more complex events:


* Clicks on CSS Selector: you can target virtually any clicks, like buttons, images etc.

* Mouse over CSS Selector

* Page Scroll: you can fire an event when any or a particular page is scrolled down to a percent.



EVEN MORE FACEBOOK EVENTS PARAMETERS:

The pro version will track a vast amount of data for each event, like the traffic source, UTMs, your visitor’s browser’s time (hour, day, month).

These parameters can be used for [Custom Audiences or Custom Conversions](https://www.pixelyoursite.com/facebook-pixel-plugin/custom-audiences-conversions)



EVEN MORE GOOGLE ANALYTICS FEATURES:

Support for Google Optimize (free A/B testing service by Google).

On top of the free version data, [the pro version](https://www.pixelyoursite.com/google-analytics) will track a number of useful Custom Dimensions.

Browser’s hour, day, and month. They are useful if you sell globally and what to know at what time your visitors take a particular action (their time, not your server’s or Google Analytics time).
Dynamic Remarketing vertical custom dimensions (Retail or Custom vertical). Useful if you want to configure dynamic remarketing via your Analytics account.



EVEN MORE HEAD & FOOTER OPTIONS:

The pro version [Head & Footer](https://www.pixelyoursite.com/head-footer-scripts) lets you use dynamic values: [id], [title], [categories], [email], [first_name], [last_name].

For WooCommerce you’ll have some additional dynamic values: [order_number], [order_subtotal], [order_total], [currency].



EVEN MORE WOOCOMMERCE FEATURES:

* Identify your most valuable customers with our Advanced Marketing Events. Useful to create Facebook Lookalikes or Google Similar Audiences.

* CSV Export for Facebook Custom Audiences with Lifetime Value. Useful for Facebook LTV Lookalikes.

* Super flexible events value configuration (include/exclude tax and shipping, use full price or a price percent for each event).

* Track the Lifetime Value for your customers as Purchase event parameter.

* Lots of extra parameters for the Facebook Purchase event. Useful to create advanced Custom Audiences.

* Fire the Purchase event on transaction only.

* Track WooCommerce affiliate buttons clicks.

* Track WooCommerce PayPal Standard clicks.

* [Google Ads Dynamic Remarketing parameters](https://www.pixelyoursite.com/google-ads-tag)


For more info on how the pro version can help you with your Facebook Pixel, [visit this WooCommerce  - Facebook Pixel page](https://www.pixelyoursite.com/facebook-pixel-plugin/woocommerce-facebook-pixel)



GOOGLE ADS TAG (FORMER ADWORDS):

* The Pro version will implement the [Google Ads Tag](https://www.pixelyoursite.com/google-ads-tag) with Dynamic Retargeting support for WooCommerce and Easy Digital Downloads.

* Each Global event will be sent to Google Ads too, and you can configure Google Ads conversions.

* Add conversion label to any WooCommerce or EDD event.

* Enhanced Conversions.



NOT ENOUGH? GET MORE WITH THE SUPER PACK:

With the [Super Pack](https://www.pixelyoursite.com/super-pack) you get 5 extra add-ons:

* Multiple pixels: add multiple Facebook pixels, Google Analytics, or Google Ads tags

* Remove a pixel from a particular page

* Dynamic parameters for events

* WooCommerce custom “thank you pages”
AMP support


The super pack comes as a free bonus with our [Advanced and Agency licenses](https://www.pixelyoursite.com/facebook-pixel-plugin/buy-pixelyoursite-pro).



DON’T MISS:


**Documentation**: learn how to use PixelYourSite free plugin. [Click here for the HELP articles](https://www.pixelyoursite.com/pixelyoursite-free-version)


== Installation ==
* From the WP admin panel, click \"Plugins\" -> \"Add new\".
* In the browser input box, type \"PixelYourSite\".
* Select the \"PixelYourSite\" plugin (authored by \"PixelYourSite\"), and click \"Install\".
* Activate the plugin.

OR...

* Download the plugin from this page.
* Save the .zip file to a location on your computer.
* Open the WP admin panel, and click \"Plugins\" -> \"Add new\".
* Click \"upload\".. then browse to the .zip file downloaded from this page.
* Click \"Install\".. and then \"Activate plugin\".

OR...

* Download the plugin from this page.
* Extract the .zip file to a location on your computer.
* Use either FTP or your host's cPanel to gain access to your website file directories.
* Browse to the `wp-content/plugins` directory.
* Upload the extracted `wp_edit` folder to this directory location.
* Open the WP admin panel.. click the \"Plugins\" page.. and click \"Activate\" under the newly added plugin.


== Frequently Asked Questions ==
We maintain an up-to-date FAQ page on our site: [Click Here for the FAQ Page](http://www.pixelyoursite.com/facebool-pixel-master-faq)

**FACEBOOK PIXEL: Do I need to copy/paste the full Facebook Pixel code somewhere?**

No, you just have to enter your pixel ID in the dedicated field. The plugin will do the rest for you.

**FACEBOOK PIXEL: Where can I find the Facebook Pixel ID?**

You can find it here:
<a href="https://www.facebook.com/ads/manager/pixel/facebook_pixel" target="_blank">https://www.facebook.com/ads/manager/pixel/facebook_pixel</a>

**FACEBOOK PIXEL: Can I use the plugin for  Custom Audiences or Custom Conversions?**

Absolutely yes! Actually, the plugin will super-optimize your site for Custom Audiences and Custom Conversions.

You will be able to create the classical ones based on URLs, but also Custom Combinations, like people who visited posts from category XYZ, or tagged with tag ABC in the last 30 days.

Use the PRO version, and you'll be able to do crazy things, like targeting people that came from Google and visited products under category "blue widget", or clients who bought products of at least $100, using the discount coupon "promo".

**FACEBOOK PIXEL: I used the old Facebook Pixel, will my audiences still work?**

Yes, they will, you won't lose anything.

**FACEBOOK PIXEL: Does it work with WooCommerce?**

Yes, it does. The plugin adds all the necessary events, like ViewContent, AddToCart, InitiateCheckout, and Purchase. This way you can easily track conversions and conversion value.

**FACEBOOK PIXEL: Do I have to manually add the events for WooCommerce?**

No, you don't, the plugin will take care of everything for you.

**FACEBOOK PIXEL: Does it work with Easy Digital Downloads?**

Yes, it works in the same way it does with WooCommerce.

**FACEBOOK PIXEL: Does it work with Dynamic Product Ads (promote a product catalog)**

Yes, all the WooCommerce and EDD pixel events are Dynamic Ads ready.

**FACEBOOK PIXEL: Can I fire additional events if I need to?**

Of course, you can fire any type of event (standard or custom).

There are several triggers you can use:

*URL includes (supports delay)
*URL equals (supports delay)
*Click on HTML link (pro)
*Click on CSS Selector (pro)
*Mouse over CSS Selector (pro)
*Page scroll (pro)

**FACEBOOK PIXEL: I have the pixel installed on my website and I am running a Facebook Campaign, but the reports are confusing me. How can I see my campaign results?**

We have an article about how to create Custom Reports: [How to optimize your Facebook Ads Reports for events tracking](https://www.pixelyoursite.com/how-to-manage-reports-inside-your-facebook-ads-manager-video)

**GOOGLE ANALYTICS: Do I need to copy/paste all the Google Analytics code?**

No, you just need to copy/paste your Google Analytics UA id.

**GOOGLE ANALYTICS: Where can I find my Google Analytics UA id?**

You can find it right inside your Google Analytics account, under Property Settings.
For more information on how to get your UA id, [follow this link](https://www.pixelyoursite.com/documentation/add-your-google-analytics-code)

**GOOGLE ANALYTICS: Is Google Analytics Enhanced Ecommerce supported?**

Yes, Google Analytics Enhanced Ecommerce data is tracked automatically for WooCommerce and Easy Digital Downloads.

**HEAD AND FOOTER: Can I add any scripts I want with your Head and Footer option?**

Yes, you can add any type of scripts you want.

**HEAD AND FOOTER: Can I show scripts just on mobile or desktop?**

Yes, you can.
You can configure scripts for all devices, just for mobile, or just for desktop.

**HEAD AND FOOTER: Can I hide scripts on some pages.**

Yes, you can hide the global scripts on any page you want.

**HEAD AND FOOTER: Can I add scripts on WooCommerce's order-received page?**

Yes, you can add or hide scripts on the WooCommerce's order-received page.

**PINTEREST TAG: Do I need to install your free Pinterest add-on?**

Yes, if you want to implement the Pinterest tag you'll need our free Pinterest add-on.
You can [get it from here](https://www.pixelyoursite.com/pinterest-tag)

**PINTEREST TAG: Where can I find my Pinterest tag ID?**

You can find your Pinterest tag ID inside your Pinterest account.
For more information go to our [help page](https://www.pixelyoursite.com/documentation/add-your-pinterest-tag)

**PINTEREST TAG: Can I fire my own Pinterest events?**

Yes, you can fire your own Pinterest tags events effortless.

There are several triggers you can use:

*URL includes (supports delay)
*URL equals (supports delay)
*Click on HTML link (pro)
*Click on CSS Selector (pro)
*Mouse over CSS Selector (pro)
*Page scroll (pro)

**PINTEREST TAG: I use WooCommerce or EDD, do I need to add the Pinterest events myself?**

No, absolutely not!
The plugin will fire all the Pinterest e-commerce events automatically.

**Will your plugin increase the loading time of my site?**

The plugin itself is really fast. However, you have to remember that the pixel has to communicate with Facebook, Google, or Pinterest to send all the data, and this will add a little load on your site.

Will this impact on your visitors? No, because all the requests are asynchronous, meaning that the browser will continue to load and your users will not see any delay whatsoever.

**Are there any known incompatibilities with other themes or plugins?**

There are a few you should consider:

*Any plugin or solution that implements the same pixel or tag. Having the same tracking pixel added twice can cause problems.

*We had a problem with Mamaya, a retargeting service.

*It won’t work with LeadPages or any similar system because those pages are generated outside WordPress.

*Some clients reported problems with Thrive landing pages. This happens because Thrive removes other plugins JS files.

There's a strange solution: it appears that if you have the Yoast plugin installed the problem will go away.

*Upsell plugins can cause problems with purchase tracking. If they add an intermediary page after the transaction, we have [a filter their developer can use to call our default Purchase event](https://bitbucket.org/snippets/the_mister/zeaXya)

**Are there any situations when the plugin will connect to outside sources?**

Yes, there are, and we will explain them here:

*We offer you the possibility to voluntarily subscribe to our newsletter and get valuable tips.  We manage our newsletter using ActiveCampaing. When you subscribe, we will call our server that intermediates the API connection, and then the data is sent to ActiveCampaign. The information that is passed: the name you provide and the email. If you check the "I use WooCommerce" checkbox, we will add this information as a tag, to give you better tips in the future.

*Add-on updates: the plugin works with free or paid add-ons (for Pinterest, Bing, etc) that we provide and host on our server. When you install such an add-on, we will do checks for updates. If you have a valid license for the add-on, we will automatically download the latest version of the add-on from our servers. The core plugin (PixelYourSite itself) updates are provided using WordPress own servers.

*When you install a pixel or a tag (like the Facebook Pixel or Google Analytics), the script will call for their specific files. These scripts are hosted on their servers (Facebook's servers, Google's servers).

*If you install scripts using our Head & Footer option, these scripts may load files from third-party servers. You can check this using your browser's Console.

**Do you record data about the websites' traffic**

NO, absolutely not! We don't track any type of data about your website. We simply implement the pixel/tag code.



== Screenshots ==

1. Add your Facebook pixel ID, Google Analytics ID, or Pinterest ID.
2. You don’t have to copy/paste all the Facebook pixel code, but just the pixel ID. You can find it in your Ads Manager, under the Pixels link.
3. You just need your Google Analytics Tracking ID, not the full code.
4. You simply need your Pinterest Tag ID.
5. You can exclude user roles from tracking (like Admin), so they won’t affect your stats.
6. You can allow other user roles to use the plugin.
7. The Global Events are fired automatically, tracking important actions and data.
8. The GeneralEvent is fired on every page, tracking important data about your content.
9. The Search event tracks searches. WooCommerce searches are Dynamic Ads ready.
10. The Form event is fired when a form is submitted.
11. The Comment event tracks comments.
12. The Downloads event tracks downloads. You can configure the file types.
13. You can fire your own events with NO coding.
14. Events have flexible triggers and can be sent to Facebook, Google Analytics, or Pinterest.
15. WooCommerce comes with Facebook Dynamic Ads events, Google Analytics Enhanced Ecommerce, and Pinterest e-commerce configuration.
16. You can track value for each WooCommerce events, plus other useful parameters.
17. The AddToCart event can be fired on cart buttons, cart page, or checkout page.
18. Easy Digital Downloads integrations comes with Facebook Dynamic Ads events, Google Analytics Enhanced Ecommerce, and Pinterest e-commerce setup.
19. Test your Facebook pixel with Pixel Helper Chrome extension.
20. Test your Google Analytics code with Google Tag Assistant Chrome extension.
21. Test your Pinterest tag with the Pinterest Tag Helper Chrome extension.
22. With the Head & Footer option you an add ANY script. There’s an option to insert scripts on the  WooCommerce order-received page .
23. You’ll have an option to insert scripts on any pages or posts.


== Changelog ==

= PixelYourSite 9.3.6=

* Notification for users that don't have the Meta CAPI token.

* Small code changes to ensure compatibility with ConsentMagic.

* Fixing a potential problem with traffic data stored for WooCommerce orders.

* Small UI changes.


= PixelYourSite 9.3.5=

* Fix for an issue with the additional data we track for WooCommerce or Easy Digital Downloads orders. 


= PixelYourSite 9.3.4 =

* WooCommerce 7.5 compatibility check.

* Fixing a possible conflict with Oxygen Builder.

* Fixing a possible bug with sites using themes that are missing some default scripts, resulting in tags not being fired. 

* Fixing various deprecation warnings.

* Fix for Fatal error: Access level to PixelYourSite\FormEventForminator::__construct


= PixelYourSite 9.3.3 =

* The Form automatic event will fire when forms are successfully submitted for the following plugins: Contact Form 7, Forminator, WP Forms, Formidable Pro, Ninja Forms, and Fluent Forms. For forms added by different means, we will fire the event when the submit button is clicked.

* New option that allows to remove the plugin's name from the browser's console. 

* Changes to ensure compatibility with the recent changes from the ConsentMagic plugin.

* WooCommerce 7.4 compatibility. 


= PixelYourSite 9.3.2 =

* Fix for an issue with WooCommerce logs: pixelyoursite.php is not a known WordPress plugin


= PixelYourSite 9.3.1 =

* Fixing a bug related to missing custom parameters for Meta CAPI events configured on the plugin’s Events page.

* Declaring WooCommerce 7.3 compatibility.

* Important code improvements.

* Fixing other bugs.


= PixelYourSite 9.3.0 =

* Ensuring compatibility with WooCommerce High-Performance Order Storage (HPOS).

* Meta Conversion API test code will auto-delete in 24 hours.

* Changing the default method for WooCommerce AddToCart event in order to avoid a possible conflict with Elementor.

* Improvements for how we handle licenses and updates for extra add-ons (the Pinterest add-on, the Bing add-on).

* UI changes.

* Fix for a possible conflict with Brick theme.

* Fixing other bugs and code refactoring. 


= PixelYourSite 9.2.2 =

* New: hide the plugin for known web crawlers. This can prevent certain Ajax AddToCart WooCommerce buttons to fire CAPI events because of crawlers.

* New: hide the plugin for custom IP addresses. 

* Track WooCommerce’s extra data (traffic source, landing pages, UTMs) even when no tag is installed in the plugin.

* Confirmation dialog when deleting events on the plugin’s Events page.

* Google Consent Mode compatibility with ConsentMagic.

* Fix for a problem with Meta AddToCart IDs for WooCommerce variable items when SKU is used.

* Fix for a conflict with Bricksbuilder editor.

* Some other small changes and code improvements.

* WooCommerce 7.1 compatibility.

* WordPress 6.1 compatibility.


= PixelYourSite 9.2.1 =

* Improvements on how the plugins tracks and sends fbp and fbc for Meta CAPI events. In time, this will lead to an improved EMQ score and overall better ads attribution.

* New option to remove the post_category parameter, as required by some users.

* UI changes to reflect new features in the PRO version of the plugin: Advanced user-data detection for forms.

* Updates to our notifications. We now show a number of notifications with tips about the plugin and tracking in general. These notifications can be close individually. Each notification has a button that will turn OFF all notifications at once.

* WooCommerce 7.0 compatibility.


= PixelYourSite 9.2.0 =

* New: track and store the traffic source, landing page, UTMs for WooCommerce orders. This helps you identify what generates your sales. [Watch this video for more info](https://www.youtube.com/watch?v=4VpVf9llfkU)

* New: track and store the traffic source, landing page, UTMs for Easy Digital Downloads orders. This helps you identify what generates your sales. [Watch this video for more info](https://www.youtube.com/watch?v=kh17Ik9z5tI)

* Meta API update.

* WooCommerce compatibility check.

* Easy Digital Downloads 3.0 compatibility check.



= PixelYourSite 9.1.1 =

* Fix for potential warning or fatal error related to pixelyoursite/includes/functions-migrate.php on line 24


= PixelYourSite 9.1.0 =

* Automated events are turned ON by default.

* The legacy Signal event is removed.

* Video links updated.

* Code refactoring. 


= PixelYourSite 9.0.0 =

* [WATCH THIS VIDEO](https://www.youtube.com/watch?v=625_GpjqEZE) to find out more about this update. We are replacing the Signal event with individual automatic events tracking each action. These events are reported by Google Analytics 4 and can be used for audiences or conversions on Meta (Facebook), Google Analytics, Google Ads, and for audiences on Pinterest, Bing, or TikTok. This version still fires the old Signal event by default and you need to manually turn it OFF and enable the automatic events. Version 9.1 will completely remove the Signal event and enable the automatic events by default. If you have audiences or conversions based on the Signal events, replace them using the new events.

* Bug fix: possible issue with Bing purchase event (for the Bing paid add-on users).

* WooCommerce variable products speed improvement.

* Code improvement to avoid a possible error for sites that don’t use WooCommerce.

* New filter that lets developers get the Facebook CAPI event IDs.
Usage example:

add_filter(“pys_before_send_fb_server_event”,”pys_test”,10,3);
function pys_test($event,$pixelId,$eventId) {
error_log(“Send event for pixel $pixelId id = $eventId”);
return $event;
}

It is called before the event is sent to the FB server
3 parameters:

– the first one is the event object with all the data

– the second is the pixel id

– and the third is the event id, rendered it separately

You need to take into account that our events are mainly sent via Ajax after the page has loaded.



= PixelYourSite 8.2.18 =

* Video links update.

* UI update to reflect new paid features (WooCommerce offline conversion export for Facebook, conversion ID prefix for WooCommerce and EDD).

* Changes on how updates work for the Pinterest add-on.

* WooCommerce 6.3 compatibility check.

* Possible bug fixes (post or product editor conflict).


= PixelYourSite 8.2.17 =

* UI changes to reflect some paid features: WooCommerce split advanced purchase tracking for Facebook and Google Analytics.

* UI changes to reflect some paid features: Easy Digital Downloads recurring trading for Facebook and Google Analytics.

* Fixing some potential issues related to the Pinterest add-on. 

* Fixing other small code issues.

* WooCommerce 6.2 compatibility check. 


= PixelYourSite 8.2.16 =

* Terminology change, we are now using "The Meta Pixel" along with "The Facebook Pixel".

* Fix for a possible issue with WooCommerce variable products that have a large number of variations creating a loading page speed problem. 

* Video link updates.

* WordPress 5.9 compatibility. 

* WooCommerce 6.1 compatibility. 



= PixelYourSite 8.2.15 =

* Fix for a possible critical error related to older versions of the Pinterest add-on.

* WooCommerce 6.0 compatibility check.



= PixelYourSite 8.2.14 =

* Code refactoring to ensure compatibility with our extra add-ons.

* Code changes to ensure full compatibility with ConsentMagic.com.



= PixelYourSite 8.2.13 =

* Small UI changes to reflect TikTok Tag support with PixelYourSite Professional.

* Video links updates.



= PixelYourSite 8.2.12 =

* Fixing a potential problem with Signal events fired for forms buttons. 

* Fixing a bug related to Dynamic Ads for Blog Setup.

* WooCommerce 5.9 update.


= PixelYourSite 8.2.11 =

* Fixing some small bugs, please update.


= PixelYourSite 8.2.10 =

* fixing a small issue with the previous update


= PixelYourSite 8.2.9 =

* Google Analytics property format auto detection: the plugin will automatically detect the old UA and the new GA4 properties, sending events in the correct format. The paid version will allow to run both type at the same time.

* Facebook API update.

* Various bug fixes and code improvements.



= PixelYourSite 8.2.8 =

* Fix for a potential issue with the AddToCart event.

= PixelYourSite 8.2.7 =

* Improvements regarding how WooCommerce related events are fired.

* Signal event removed for Pinterest tag. This change affects only users of our free Pinterest Tag add-on. The Signal event is no longer fired for Pinterest, because it was not easy to use it for audiences or conversions. If the default events fired by the plugin are not enough, consider adding your own Pinterest events on the plugin's Events page.

* WooCommerce 5.6 compatibility.

* Small UI change: Notification about CartFlows integration.

* New option to store logs for Facebook CAPI events. 

* Other code changes.


= PixelYourSite 8.2.6 =

* UI update to reflect the [new integration with CartFlows available in PixelYourSite Professional](https://www.pixelyoursite.com/cartflows-and-pixelyoursite)
* WordPress 5.8 compatibility check



= PixelYourSite 8.2.5 =

* Facebook API update, Conversion API related.



= PixelYourSite 8.2.4 =

* Facebook API update.

* WooCommerce 5.4 compatibility. 


= PixelYourSite 8.2.3 =

* Video links updates.

* Fix for a potential error with ConsentMagic integration.


= PixelYourSite 8.2.2 =

* New option to remove the URL tags from the download_url parameter. It can help to avoid privacy warnings from Facebook.

* New UI around enriched order data for emails and orders.

* Better integration with ConsentMagic.

* Other code improvements and small fixes.



= PixelYourSite 8.2.1 =

* New options to turn ON/OFF most global, WooCommerce, Easy Digital Downloads events parameters. Use it if Facebook shows privacy warnings related to some parameters. [You have a video](https://www.youtube.com/watch?v=sM9yNkBK6Eg) about it linked on the plugin’s main page. 

* WooCommerce 5.3 compatibility check.

* Some other code improvements and small bug fixes.



= PixelYourSite 8.2.0 =

* Full support for [ConsentMagic.com](https://www.consentmagic.com)


= PixelYourSite 8.1.1 =

* Remove parameters from event_source-url. This is a mandatory parameter for Facebook Conversion API events. If the URL contains parameters that include personal data, it will trigger privacy working on Facebook. To avoid this problem we are now removing all URL parameters for this event. If you think you need them, you have toggle to add them back on the plugin’s main page.

* Dynamic Ads for Blogs events are now OFF by default.

* Fixes for various small bugs, PHP warnings, or potential errors.



= PixelYourSite 8.1.0 =

* Significant UI improvements.

* New option to verify your domain on Facebook using a meta-tag. [Watch this video for details](https://www.youtube.com/watch?v=lLXZW5eZt4o)


= PixelYourSite 8.0.9 =

* Fix for a potential issue: Uncaught Error: Call to a member function get_type() on bool

* WordPress 5.7 compatibility.

* WooCommerce 5.1 compatibility.


= PixelYourSite 8.0.8 =

* Facebook API 10 update. Some Pixel IDs were not sending Conversion API events with the old API version.

* Support for the Real Cookie Banner plugin

* Fixes for various issues related to the way the AddToCart fires and problems with some themes, third-party plugins, or custom code.

* UI update to reflect some new PixelYourSite Professional features: landing_page parameter, save data to WooCommerce and EDD orders and user profiles.


= PixelYourSite 8.0.7 =

* Fix for a potential problem with AddToCart not being fired on single product pages.

* Fix for a potential problem with the AddToCart fired twice on single product pages.

* Fix for a potential problem with the mobile menu of the Porto theme.

* Fix for a potential conflict between the Bing add-on and a product filter plugin.

* Update for the [Facebook CAPI help link](https://www.pixelyoursite.com/facebook-conversion-api-capi) inside the plugin.



= PixelYourSite 8.0.6 =

* Fix: missing AddToCart IDs when "treat variable products like simple products" is enabled.


= PixelYourSite 8.0.5 =

* Fix for a potential JS error.

* Fix for an error that could lead to duplicated AddToCart events.

* Tweaks to Facebook Conversion API that might help fix issues we noticed with some hostings.



= PixelYourSite 8.0.4 =

* FIX: Warning: Invalid argument supplied for foreach() .... wp-content/plugins/pixelyoursite/includes/functions-common.php on line 688

* FIX: WooCommerce group products possible value issue.

* FIX: Possible problem with Easy Digital Downloads add to cart.



= PixelYourSite 8.0.3 =

* FIX: some encoding problems with parameter values.

* FIX: Greek language issue.


= PixelYourSite 8.0.2 =

* Fix for a potential fatal error: PHP Fatal error: Cannot use FacebookAds\Object\ServerSide\Event as Event because the name is already in use 


= PixelYourSite 8.0.1 =


* Fixing a mismatch with version numbers.


= PixelYourSite 8.0.0 =

This is a major update. Please [visit this page](https://www.pixelyoursite.com/pixelyoursite-v8) for more info about what's new with V8.

* New section showing how many active events you have.

* A new set of common parameters added to all events from all installed tags. You can find a list of the common parameters on the plugin’s main page.

* A new Signal event that replaces most Global Events. You can find its settings on the plugin’s main page.

* We removed the GeneralEvent. If you have audiences or conversions based on it, you need to replace them. It’s a good idea to use the default Page View event instead.

* All events fired automatically (Signal, Search, WooCommerce events, Easy Digital Download events) have a new ON/OFF button visible before you open the event’s settings.

* We turned off some of the less popular WooCommerce and EDD events. You can turn them back on if you need to.

* Update for Facebook API.

* Update for some mandatory CAPI events parameters.

* Fix: issue with Oxygen builder.

* Fix: Uncaught Error: Class ‘PYS_PRO_GLOBAL

* Other small code changes.


= PixelYourSite 7.2.1.1 =

* Simple update to remove some unwanted files from v7.2.1


= PixelYourSite 7.2.1 =

* Google Analytics 4 support. For details, watch [this video](https://www.youtube.com/watch?v=CCVBD_bD-Y0)

* Facebook API update. This will fix the problem some old pixel IDs had in sending CAPI events. 

* Country and ZIP added to WooCommerce Facebook CAPI events when possible.

* Facebook CAPI Purchase event will send client information for non-logged-in clients too.

* WordPress 5.6 compatibility.

* WooCommerce 4.8 compatibility.



= PixelYourSite 7.2.0 =


* NEW: Facebook Conversion API works for all the pixel events.

* Ajax option for the Facebook Pixel when Conversion API is enabled. This helps to avoid problems with caches. You can learn more about these problems from [this video](https://www.youtube.com/watch?v=YH6ve7qj1hw)

* ViewContent, AddToCart, InitiateCheckout events related to WooCommerce have value turned ON by default. The reasons are explained in [this video](https://www.youtube.com/watch?v=neH2Hc6xXUU)

* Small change to the contents parameter for some Facebook Pixel events that had the potential to trigger a warning related to currency or value. 


= PixelYourSite 7.1.14 =

* We removed the EventID parameter when Facebook Conversion API is not configured.

* If you have Conversion API configured, we recommend to check if your cache plugin stores the EventID. [Watch this video to learn more](https://www.youtube.com/watch?v=YH6ve7qj1hw&)

= PixelYourSite 7.1.13 =

* NEW: Facebook Conversion API (former server-side events) works for all standard events automatically fired by the plugin. We will expand this feature to all events soon.

* Facebook Conversion API update.


= PixelYourSite 7.1.12 =

* FIX: Possible issue with Easy Digital Download Purchase Event.

* FIX: Possible issue with [Cost of Goods](https://www.pixelyoursite.com/plugins/woocommerce-cost-of-goods) values for variable products. 

* WooCommerce 4.4 compatibility check.



= PixelYourSite 7.1.11 =

* FIX: Facebook Pixel server-side events token field was missing for Easy Digital Downloads.

* FIX: Possible error when [Cost of Goods](https://www.pixelyoursite.com/plugins/woocommerce-cost-of-goods) value was used for WooCommerce Facebook Pixel events.

* Wordpress 5.5 compatibility.


= PixelYourSite 7.1.10 =

* Small improvements related to "Facebook for WooCommerce" ID logic.

* Small UI update to reflect a new option from the PRO version (Events by post_type).

* WooCommerce 4.3 compatibility.


= PixelYourSite 7.1.9 =

* Fix for a potential issue where AddToCart value was NaN

* Automatically deactivation of the free version when installing the pro plugin

* Facebook server-side API update

* Remove CompleteRegistration from code when the event is send server-side - [hiding the profit](https://www.pixelyoursite.com/strategy/track-profit-and-total-for-facebook-ads)

* Code update to declare WooCommerce 4.2 compatibility



= PixelYourSite 7.1.8 =

* NEW: Facebook Pixel server-side events for WooCommerce. It works for the Purchase and CompleteRegistration event.

* NEW: Fire the CompleteRegistration event for each WooCommerce transaction and configure it to use PROFIT as value. You can send this event server-side only (hide it from the browser). This is useful if you want to track both the TOTAL and the PROFIT generated by your ads. Requires [WooCommerce Cost of Goods plugin by PixelYourSite](https://www.pixelyoursite.com/woocommerce-cost-of-goods)

* FIX: Potential issue related to the Pinterest Tag add-on and WooCommerce events. Some events were not fired if there was no Facebook Pixel installed. You need to update the Pinterest Tag add-on too.

* Declare compatibility with WooCommerce 4.1

= PixelYourSite 7.1.6 =

* This is a minor update that ensures compatibility with the latest changes from the [WooCommerce Cost of Goods plugin by PixelYourSite](https://www.pixelyoursite.com/woocommerce-cost-of-goods)

= PixelYourSite 7.1.6 =

* Small code update to declare WooCommerce 4.0 compatibility.

* Fixes for some issues related to file paths. In some environments this was causing error on Elementor or WooCommerce admin pages.

* A new option to use PROFIT as value for your Facebook Pixel WooCommerce events. It works with  the [WooCommerce Cost of Goods plugin by PixelYourSite](https://www.pixelyoursite.com/woocommerce-cost-of-goods)

= PixelYourSite 7.1.5 =

* New features: Facebook Dynamic Ads events for blog posts. Simulate the DPA required events on normal blog posts. We will soon release a dedicated plugin that will help you import your blog content into a Facebook Product Catalog.

* Google Analytics Enhanced Ecommerce: we removed the variation name from the product title and we added it as a separate parameter. 

* Google Analytics Enhanced Ecommerce: we fixed an error with variable products category.

* Elementor: we fixed an error that was deleting Head & Footer scripts when a page was saved using Elementor.

* UI updates to reflect new paid features: fire custom events once in X hours; Google Analytics list performance tracking.

* Small code change to declare WooCommerce 3.9 compatibility.


= PixelYourSite 7.1.4 =

* Minor code changes to declare compatibility with WordPress 5.3 and WooCommerce 3.8.


= PixelYourSite 7.1.3 =

* Adding new options for WooCommerce and EDD events IDs: select between ID or SKU, use prefixes and postfixes, treat variable products like simple products. These features will work with the Pinterest add-on v2.0.8 (free), and the Bing add-on v1.0.2 (paid).

* Fix for an old bug related to how On Page Events triggers work. In previous versions, final slashes were ignored for both “URL Match” and “URL Contains” conditions. This was fixed with this release.
Recommendation: if you have manually added events using the On-Page trigger, test them to make sure they work as expected.

* Fix for a bug related to the Pinterest add-on. In previous versions, the WooCommerce Checkout and PageVisit events could not be turned ON/OFF.



= PixelYourSite 7.1.2 =

* Name change - we removed "Facebook" from the plugin title, as per Facebook's request. The plugin will still offer great Facebook Pixel integration.

* Banner update - we removed "Facebook" from our banners, as per Facebook's request.

* Security and code improvements


= PixelYourSite 7.1.1 =

* Compatibility with WooCommerce 3.7

* New structure for the Form and Comment events. It will help you better identify what actions have fired the events.

Form Event for the Facebook Pixel and the Pinterest Tag:

- form_class: a new parameter pulling the CSS class when it exits.
- form_id: a new parameter pulling the CSS ID when it exits.

Form event on Google Analytics:

- event_categoty: Form.
- event_action: the CSS class or ID (makes easier for you to identify the form).
- event_label: the text on the form’s button.

Comment event  on Google Analytics:

- event_categoty: Comment.
- event_action: the “post type” (page, products, post, etc) comment.
- event_label: the URL where the comment was posted.

= PixelYourSite 7.1.0 =

* This update ads support for our paid Microsoft (BING) UET Tag add-on.

= PixelYourSite 7.0.5 =

* Fixing a potential problem with Pinterest PageVisit and Checkout events when the Facebook Pixel was deactivated (for the Pinterest add-on users only).


= PixelYourSite 7.0.4 =

* New Feature: Google Analytics cross-domain measurement. Tell Analytics to see sessions on two related sites (such as an ecommerce site and a separate shopping cart site) as a single session.

* UI changes to reflect some new features our PRO version has (Google Optimize, add conversion label to WooCommerce and EDD Google Ads events).

* Pinterest add-on missing license notice.

* Remove the pixels when you edit something with Elementor.

= PixelYourSite 7.0.3 =

* Fix: Google Analytics purchase event was missing the transaction ID, blocking Enhanced Ecommerce tracking.

* Fix: Head & Footer option was stripping backslashes from custom code on post or pages.

= PixelYourSite 7.0.2 =

* IMPORTANT: fix for some fatal errors that could be triggered by the Pinterest add-on on WooCommerce and Easy Digital Downloads orders.

= PixelYourSite 7.0.1 =

* Fix for missing cookie dependency issue (GDPR integrations).

* Adding developer Facebook ID in the pixel code (used internally by Facebook to identify partners activity).

= PixelYourSite 7.0.0 =

* Version 7.0.0 is a complete rewrite of the plugin, adding a lot more features.

* New Google Analytics integration with Enhanced Ecommerce support for WooCommerce and Easy Digital Downloads.

* Pinterest Tag support via free add-on.

* Add ANY other script with the new Head & Footer option. It supports global or per-page scripts. You have the possibility to add scripts on the WooCommerce order-received page.

* The Global Events will automatically track important actions: searches, form submit, comments, downloads.

* You can configure your own events using “URL match” or URL include triggers” and add a “delay event” in seconds.

* Every event can be sent to Facebook, Google Analytics, or Pinterest.

* You can enable Facebook Advanced Matching.

* The Pinterest Tag supports Enhanced Matching.

* Google Analytics supports Enhanced Link Attribution and Anonymize IP.

* The WooCommerce integrations tracks remove from cart as an event and has support for Google Enhanced Ecommerce tracking.

* You can now grant permissions to manage the plugin based on the user’s role.

* We’ve extended our GDPR integrations with twom more “cookie consent” plugins.

* We’ve added filters for developers to control each pixel, plus a filter to control our AJAX option (useful to make GDPR custom integrations cache friendly).


= PixelYourSite 5.3.3 =

* Facebook for WooCommerce compatibility fix: we modify ViewCategory content_type parameter in order to ensure product matching when Facebook for WooCommerce id logic is used.

* WordPress 5.0 compatibility check.

= PixelYourSite 5.3.2 =

* Facebook Pixel Standard Events updated to include the new ones that Facebook released. <a href="https://www.pixelyoursite.com/new-facebook-pixel-standard-events" target="_blank"> Details here</a>


= PixelYourSite 5.3.1 =

* GDPR related update - we've implemented a dedicated filter to disable pixel tracking before consent: pys_disable_by_gdpr

* GDPR related update - we've added built-in integration with Ginger – EU Cookie Law plugin and Cookiebot

= PixelYourSite 5.3.0 =

* Additional improvements to the WooCommerce AddToCart event ("Cannot read property 'data' of undefined" error with some AJAX based themes)

* Fixing potential security issue


= PixelYourSite 5.2.1 =

* AddToCart small improvements to ensure compatibility with some themes using AJAX cart

* Plugin name update

= PixelYourSite 5.2.0 =

* Fixing a possible error with the add to cart button when WooCommerce and WPML are installed on some hostings (we were able to replicate it on SiteGround servers only)

* Enabling the AddToCart event on the Cart page when WooCommerce "Redirect to the cart page after successful addition" option is active. This will ensure that the events are captured.

* Other small improvements to the code related to the AddToCart event

= PixelYourSite 5.1.0 =

* Fixing possible compatibility problem with Facebook for WooCommerce extension
* Improving Facebook for WooCommerce ID logic

= PixelYourSite 5.0.9 =

* ViewCategory - new WooCommerce event, compatible with Facebook Dynamic Product Ads (DPA)

* New WooCommerce events parameter: contents - A list of JSON object that contains the product ids associated with the event as well as additional information about the products. It can help with DPA

* Declaring compatibility with WooCommerce 3.2.6

= PixelYourSite 5.0.8 =

* AddToCart new option: fire the event on the Checkout Page. It will be helpful for some websites with customized structure.

* The AddToCart event was improved to work with AJAX buttons on single product pages. This will help to catch events on a number of themes that use AJAX on the product pages.

* We made additional changes to ensure compatibility with Facebook for WooCommerce latest version.


= PixelYourSite 5.0.7 =

* Purchase event 0 value error fixed (there wasn't any value parameter when the order value was zero)


= PixelYourSite 5.0.6 =


* Facebook for WooCommerce extension integration updated to match the new ID logic (PixelYourSite can be used together with Facebook for WooCommerce extension - this way you can have a Facebook shop without losing our powerful pixel features)


= PixelYourSite 5.0.5.2 =


* Quick fix for a small error with our previous release (we didn't include all the files)


= PixelYourSite 5.0.5 =

* Treat WooCommerce variable products like simple products - useful if your Product Catalog doesn't include variations. When ON, ViewContent content_type will be product and the main item ID will be used for all events instead of the variation item.

= PixelYourSite 5.0.4 =

* Changed WooCommerce ViewContent event content_type to product_group for variable products

= PixelYourSite 5.0.3 =

* WooCommerce and EDD content_ids potential issue fix (the content was not correctly wrapped, leaving room for errors when SKU was used instead of the default WordPress IDs)

= PixelYourSite 5.0.2 =

* Added agent identifier (dvpixelyoursite) as we were directly requested by Facebook
* Checked and confirmed WooCommerce 3 compatibility
* Dynamic WooCommerce Events Value based on the product price
* Facebook for WooCommerce support

= PixelYourSite 5.0.1 =

* WooCommerce 2.7 compatibility update: we made sure everything works with the latest WooCommerce version.

= PixelYourSite 5.0 =

* Easy Digital Downloads Integration - Dynamic Ads (promote a product catalog) are fully supported.

* WooCommerce & Easy Digital Downloads events global value.

= PixelYourSite 4.0.3 =

* Important security updates

= PixelYourSite 4.0.2 =

* WordPress 4.7 compatibility checked

* Manage Events buttons fixed - they were not looking right on WP 4.7

= PixelYourSite 4.0.1 =

* fixing minor bugs

= PixelYourSite 4.0.0 =

* From version 4.0 the plugin uses JS to trigger the code. This allows us to add new useful features.

* Delay Event option added for the GeneralEvent

* Head/Footer option - you can decide where the pixel JS will be called. The default setting is in the page head.

* Various text changes to reflect the new pro features

* WooCommerce SKU id possible error fix


= PixelYourSite 3.1.0 =

* Changing GeneralEvent parameters names to avoid Pixel Helper warning (post_id and post_type are now being used)

* Updating new pro features (tracking tags, advanced matching)

* Minor fixes and code changes

= PixelYourSite 3.0.3 =

* Fixing PHP warnings and errors

* Fixing encoding problems

* Fixing incompatibility with some themes

= PixelYourSite 3.0.2 =

* Small fixes related to some possible HTML errors

* Admin Notice modifications

= PixelYourSite 3.0.1 =

* Fixing potential problem with importing settings from older versions


= PixelYourSite 3.0 =

This is a major release, with a new design and new features:

* Completely new design

* New GeneralEvent feature for improved Custom Audience building (with a free guide)

* ON/OFF option for user roles

* Improved Events and Dynamic Events control

* Facebook Dynamic Ads Pixel Setup for WooCommerce


= PixelYourSite 2.2.4 =

* Fixed a few back*end errors and conflicts

* Adding new currencies

= PixelYourSite 2.2.3 =

* Learning links updated

* Minor PHP warning fixed

= PixelYourSite 2.2.2 =

* Minor fix for admin notice

= PixelYourSite 2.2.1 =

* Fixing not closing admin notice error


= PixelYourSite 2.2 =

* Introducing Dynamic Events (pro)

* Introducing our new Learning Section

= PixelYourSite 2.1 =

* Introducing new WooCommerce Paypal Standard events (pro)

= PixelYourSite 2.0 =

* This update adds full control on Standard Events, with the possibility to define all the available parameters for each event

* You can also add the code for each event with the new event text field. This also lets you define custom events

* WooCommerce Affiliate Products events: you can define events that will trigger on affiliate buttons clicks

* Fixed a potential error for the WooCommerce Purchase Event

= PixelYourSite 1.05 =

* Updated offer for the PRO version

= PixelYourSite 1.04 =

* Fixed fresh install error (when no settings saved)

= PixelYourSite 1.03 =

* Fixed "Select options" error for variable products on categories pages

= PixelYourSite 1.02 =

* Fixed currency symbol error
* Added super special offer for the PRO version

= PixelYourSite 1.01 =

* Dynamic AddToCart event for WooCommerce (the AddToCart event will trigger when a users click on the add to cart button)
* Dynamic AddToCart works with WooCommerce short-codes.
* Fixed a false error that was reported for the Purchase WooCommerce event by Pixel Helper extension on the Thank You page.

= PixelYourSite 1.0 =

* A new plugin is born: It will let you manage the Facebook Pixel with just a few clicks


== Upgrade Notice ==

= 5.0 =

Version 5.0 comes with full Easy Digital Downloads integrations plus the ability to give each WooCommerce and EDD event a global value.
